(()=>{"use strict";class t{constructor(t,e){this.name=t,this.dueDate=e}setName(t){this.name=t}getName(){return this.name}setDate(t){this.dueDate=t}getDate(){return this.dueDate}}class e{constructor(t){this.name=t,this.tasks=[]}setName(t){this.name=t}getName(){return this.name}setTasks(t){this.tasks=t}getTasks(){return this.tasks}getTask(t){return this.tasks.find((e=>e.getName()===t))}addTask(e,s){this.tasks.push(new t(e,s))}deleteTask(t){this.tasks.splice(t,1)}}class s{constructor(){this.projects=[],this.projects.push(new e("Inbox")),this.projects.push(new e("Today")),this.projects.push(new e("This week"))}setProjects(t){this.projects=t}getProjects(){return this.projects}getProject(t){return this.projects.find((e=>e.getName()===t))}addProject(t){this.projects.push(new e(t))}deleteProject(t){this.projects.splice(t,1)}}class o{constructor(){this.currentProject=-1,this.currentTask=-1}saveTodoList(t){localStorage.setItem("todoList",JSON.stringify(t))}getTodoList(){const o=Object.assign(new s,JSON.parse(localStorage.getItem("todoList")));return o.setProjects(o.getProjects().map((t=>Object.assign(new e,t)))),o.getProjects().forEach((e=>e.setTasks(e.getTasks().map((e=>Object.assign(new t,e)))))),o}addProject(t){const e=this.getTodoList();e.addProject(t),this.saveTodoList(e)}deleteProject(t){const e=this.getTodoList();e.deleteProject(t),this.saveTodoList(e)}addTask(t,e,s){const o=this.getTodoList();o.getProject(t).addTask(e,s),this.saveTodoList(o)}deleteTask(t,e){const s=this.getTodoList();s.getProject(t).deleteTask(e),this.saveTodoList(s)}renameTask(t,e,s){const o=this.getTodoList();o.getProject(t).getTasks()[e].name=s,this.saveTodoList(o)}setTaskDate(t,e,s){const o=this.getTodoList();o.getProject(t).getTasks()[e].dueDate=s,this.saveTodoList(o)}setCurrentProject(t){this.currentProject=t}getCurrentProject(){return this.currentProject}setCurrentTask(t,e){this.currentProject=t,this.currentTask=e}resetCurrentTask(){this.currentTask=-1}getCurrentTask(){return this.currentTask}}(()=>{const t=new o;var e;e=t.getTodoList().getProject("Inbox").getName(),document.querySelector(".project-view").innerHTML=`\n        <div class="top">\n            <h1 class="project-name">${e}</h1>\n        </div>\n        <div class="task-list"></div>\n        <button class="add-task-btn">\n            <i class="fa-solid fa-plus"></i>\n            Add Task\n        </button>\n        <div class="form-div">\n            <form id="task-form" action="">\n                <label for="name">Name</label>\n                <input type="text" id="name" name="taskName" required>\n                <label for="date">Due Date</label>\n                <input type="date" id="date" name="dueDate" required>\n                <div class="form-btns">\n                    <button class="submit-btn" type="submit">Add</button>\n                    <button class="cancel-btn" type="button">Cancel</button>\n                </div>\n            </form>\n        </div>\n        `,t.setCurrentProject(0),console.log(t.getCurrentProject());const s=()=>{const t=document.querySelector(".add-task-btn"),e=document.querySelector(".form-div"),s=document.querySelector(".submit-btn");t.classList.add("active"),e.classList.add("active"),s.textContent="Add"},r=()=>{const t=document.querySelector(".add-task-btn"),e=document.querySelector(".form-div"),s=document.querySelector("#task-form");t.classList.remove("active"),e.classList.remove("active"),s.reset()};(()=>{const t=document.querySelector(".add-task-btn"),e=document.querySelector(".cancel-btn");t.addEventListener("click",s),e.addEventListener("click",r)})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQzVCUCxFQUFRRSxVQUFVSyxPQUFPLFVBQ3pCRCxFQUFTRSxPQUFPLEVBekJJLE1BQ3BCLE1BQU1ULEVBQWFOLFNBQVNDLGNBQWMsaUJBQ3BDZSxFQUFnQmhCLFNBQVNDLGNBQWMsZUFFN0NLLEVBQVdXLGlCQUFpQixRQUFTWixHQUNyQ1csRUFBY0MsaUJBQWlCLFFBQVNMLEVBQWEsRUF1QnpETSxFQUVILEVBdENpQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3RvZG9saXN0LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL1VJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9kZWZhdWx0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGR1ZURhdGUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIH1cblxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVcbiAgICB9XG5cbiAgICBzZXREYXRlKGR1ZURhdGUpIHtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZVxuICAgIH1cblxuICAgIGdldERhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmR1ZURhdGVcbiAgICB9XG59IiwiaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudGFza3MgPSBbXTtcbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIH1cblxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVcbiAgICB9XG5cbiAgICBzZXRUYXNrcyh0YXNrcykge1xuICAgICAgICB0aGlzLnRhc2tzID0gdGFza3NcbiAgICB9XG5cbiAgICBnZXRUYXNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFza3NcbiAgICB9XG5cbiAgICBnZXRUYXNrKHRhc2tOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhc2tzLmZpbmQoKHRhc2spID0+IHRhc2suZ2V0TmFtZSgpID09PSB0YXNrTmFtZSlcbiAgICAgIH1cblxuICAgIGFkZFRhc2sobmV3VGFzaywgZGF0ZSkge1xuICAgICAgICB0aGlzLnRhc2tzLnB1c2gobmV3IFRhc2sobmV3VGFzaywgZGF0ZSkpO1xuICAgIH1cblxuICAgIGRlbGV0ZVRhc2soaW5kZXgpIHtcbiAgICAgICAgdGhpcy50YXNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn0iLCJpbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9wcm9qZWN0XCJcbmltcG9ydCBUYXNrIGZyb20gXCIuL3Rhc2tcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvTGlzdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvamVjdHMgPSBbXVxuICAgICAgICB0aGlzLnByb2plY3RzLnB1c2gobmV3IFByb2plY3QoXCJJbmJveFwiKSlcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KFwiVG9kYXlcIikpXG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXcgUHJvamVjdChcIlRoaXMgd2Vla1wiKSlcbiAgICB9XG5cbiAgICBzZXRQcm9qZWN0cyhwcm9qZWN0cykge1xuICAgICAgICB0aGlzLnByb2plY3RzID0gcHJvamVjdHNcbiAgICB9XG5cbiAgICBnZXRQcm9qZWN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdHNcbiAgICB9XG5cbiAgICBnZXRQcm9qZWN0KHByb2plY3ROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3RzLmZpbmQoKHByb2plY3QpID0+IHByb2plY3QuZ2V0TmFtZSgpID09PSBwcm9qZWN0TmFtZSlcbiAgICB9XG5cbiAgICBhZGRQcm9qZWN0KG5ld1Byb2plY3QpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5wdXNoKG5ldyBQcm9qZWN0KG5ld1Byb2plY3QpKVxuICAgIH1cblxuICAgIGRlbGV0ZVByb2plY3QoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0cy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxufSIsImltcG9ydCBUb2RvTGlzdCBmcm9tIFwiLi90b2RvbGlzdFwiO1xuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdFwiO1xuaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgTk9fVEFTS19TRUxFQ1RFRCwgTk9fUFJPSkVDVF9TRUxFQ1RFRCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvamVjdCA9IE5PX1BST0pFQ1RfU0VMRUNURURcbiAgICAgICAgdGhpcy5jdXJyZW50VGFzayA9IE5PX1RBU0tfU0VMRUNURUQ7XG4gICAgfVxuXG4gICAgc2F2ZVRvZG9MaXN0KGRhdGEpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvTGlzdFwiLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgICB9XG5cbiAgICBnZXRUb2RvTGlzdCgpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSBPYmplY3QuYXNzaWduKG5ldyBUb2RvTGlzdCgpLCBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9kb0xpc3RcIikpKVxuXG4gICAgICAgIHRvZG9MaXN0LnNldFByb2plY3RzKHRvZG9MaXN0LmdldFByb2plY3RzKCkubWFwKChwcm9qZWN0KSA9PiBPYmplY3QuYXNzaWduKG5ldyBQcm9qZWN0KCksIHByb2plY3QpKVxuICAgICAgICApXG5cbiAgICAgICAgdG9kb0xpc3QuZ2V0UHJvamVjdHMoKS5mb3JFYWNoKChwcm9qZWN0KSA9PiBwcm9qZWN0LnNldFRhc2tzKHByb2plY3QuZ2V0VGFza3MoKS5tYXAoKHRhc2spID0+IE9iamVjdC5hc3NpZ24obmV3IFRhc2soKSwgdGFzaykpKSlcblxuICAgICAgICByZXR1cm4gdG9kb0xpc3RcbiAgICB9XG5cbiAgICBhZGRQcm9qZWN0KHByb2plY3QpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSB0aGlzLmdldFRvZG9MaXN0KClcbiAgICAgICAgdG9kb0xpc3QuYWRkUHJvamVjdChwcm9qZWN0KVxuICAgICAgICB0aGlzLnNhdmVUb2RvTGlzdCh0b2RvTGlzdClcbiAgICB9XG5cbiAgICBkZWxldGVQcm9qZWN0KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0ID0gdGhpcy5nZXRUb2RvTGlzdCgpXG4gICAgICAgIHRvZG9MaXN0LmRlbGV0ZVByb2plY3QoaW5kZXgpXG4gICAgICAgIHRoaXMuc2F2ZVRvZG9MaXN0KHRvZG9MaXN0KVxuICAgIH1cblxuICAgIGFkZFRhc2socHJvamVjdE5hbWUsIG5hbWUsIGRhdGUpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSB0aGlzLmdldFRvZG9MaXN0KClcbiAgICAgICAgdG9kb0xpc3QuZ2V0UHJvamVjdChwcm9qZWN0TmFtZSkuYWRkVGFzayhuYW1lLCBkYXRlKVxuICAgICAgICB0aGlzLnNhdmVUb2RvTGlzdCh0b2RvTGlzdClcbiAgICB9XG5cbiAgICBkZWxldGVUYXNrKHByb2plY3ROYW1lLCBpbmRleCkge1xuICAgICAgICBjb25zdCB0b2RvTGlzdCA9IHRoaXMuZ2V0VG9kb0xpc3QoKVxuICAgICAgICB0b2RvTGlzdC5nZXRQcm9qZWN0KHByb2plY3ROYW1lKS5kZWxldGVUYXNrKGluZGV4KVxuICAgICAgICB0aGlzLnNhdmVUb2RvTGlzdCh0b2RvTGlzdClcbiAgICB9XG5cbiAgICByZW5hbWVUYXNrKHByb2plY3ROYW1lLCB0YXNrSW5kZXgsIG5ld05hbWUpIHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSB0aGlzLmdldFRvZG9MaXN0KCk7XG4gICAgICAgIHRvZG9MaXN0LmdldFByb2plY3QocHJvamVjdE5hbWUpLmdldFRhc2tzKClbdGFza0luZGV4XS5uYW1lID0gbmV3TmFtZVxuICAgICAgICB0aGlzLnNhdmVUb2RvTGlzdCh0b2RvTGlzdClcbiAgICB9XG5cbiAgICBzZXRUYXNrRGF0ZShwcm9qZWN0TmFtZSwgdGFza0luZGV4LCBuZXdEYXRlKSB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0ID0gdGhpcy5nZXRUb2RvTGlzdCgpO1xuICAgICAgICB0b2RvTGlzdC5nZXRQcm9qZWN0KHByb2plY3ROYW1lKS5nZXRUYXNrcygpW3Rhc2tJbmRleF0uZHVlRGF0ZSA9IG5ld0RhdGVcbiAgICAgICAgdGhpcy5zYXZlVG9kb0xpc3QodG9kb0xpc3QpXG4gICAgfVxuXG4gICAgc2V0Q3VycmVudFByb2plY3QoaWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvamVjdCA9IGlkXG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudFByb2plY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQcm9qZWN0XG4gICAgfVxuXG4gICAgc2V0Q3VycmVudFRhc2soaW5kZXgsIGlkKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFByb2plY3QgPSBpbmRleFxuICAgICAgICB0aGlzLmN1cnJlbnRUYXNrID0gaWRcbiAgICB9XG5cbiAgICByZXNldEN1cnJlbnRUYXNrKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXNrID0gTk9fVEFTS19TRUxFQ1RFRDtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50VGFzaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFRhc2tcbiAgICB9XG59IiwiY29uc3QgTk9fVEFTS19TRUxFQ1RFRCA9IC0xO1xuY29uc3QgTk9fUFJPSkVDVF9TRUxFQ1RFRCA9IC0xO1xuXG5leHBvcnQge05PX1RBU0tfU0VMRUNURUQsIE5PX1BST0pFQ1RfU0VMRUNURUR9IiwiaW1wb3J0IFN0b3JhZ2UgZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IG9uTG9hZCBmcm9tIFwiLi9kZWZhdWx0XCI7XG5cbmV4cG9ydCBjb25zdCBVSSA9ICgoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmFnZSA9IG5ldyBTdG9yYWdlKCk7XG5cbiAgICBvbkxvYWQoc3RvcmFnZS5nZXRUb2RvTGlzdCgpLmdldFByb2plY3QoXCJJbmJveFwiKS5nZXROYW1lKCkpO1xuXG4gICAgc3RvcmFnZS5zZXRDdXJyZW50UHJvamVjdCgwKTtcbiAgICBjb25zb2xlLmxvZyhzdG9yYWdlLmdldEN1cnJlbnRQcm9qZWN0KCkpO1xuXG4gICAgY29uc3QgaW5pdFRhc2tCdXR0b25zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idG5cIik7XG4gICAgICAgIGNvbnN0IGNhbmNlbFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1idG5cIik7XG5cbiAgICAgICAgYWRkVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkFkZFRhc2spO1xuICAgICAgICBjYW5jZWxUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZUFkZFRhc2spO1xuICAgIH1cblxuICAgIGNvbnN0IG9wZW5BZGRUYXNrID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idG5cIik7XG4gICAgICAgIGNvbnN0IGZvcm1EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZGl2XCIpO1xuICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdC1idG5cIik7XG5cbiAgICAgICAgYWRkVGFza0J0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICBmb3JtRGl2LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiQWRkXCI7XG4gICAgfVxuXG4gICAgY29uc3QgY2xvc2VBZGRUYXNrID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFzay1idG5cIik7XG4gICAgICAgIGNvbnN0IGZvcm1EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZGl2XCIpO1xuICAgICAgICBjb25zdCB0YXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1mb3JtXCIpO1xuXG4gICAgICAgIGFkZFRhc2tCdG4uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgZm9ybURpdi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB0YXNrRm9ybS5yZXNldCgpO1xuICAgIH1cblxuICAgIGluaXRUYXNrQnV0dG9ucygpO1xuXG59KSgpOyIsImltcG9ydCBTdG9yYWdlIGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb25Mb2FkKG5hbWUpIHtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdC12aWV3XCIpO1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0b3BcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzcz1cInByb2plY3QtbmFtZVwiPiR7bmFtZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhc2stbGlzdFwiPjwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWRkLXRhc2stYnRuXCI+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBsdXNcIj48L2k+XG4gICAgICAgICAgICBBZGQgVGFza1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZGl2XCI+XG4gICAgICAgICAgICA8Zm9ybSBpZD1cInRhc2stZm9ybVwiIGFjdGlvbj1cIlwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJuYW1lXCI+TmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJuYW1lXCIgbmFtZT1cInRhc2tOYW1lXCIgcmVxdWlyZWQ+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImRhdGVcIj5EdWUgRGF0ZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJkYXRlXCIgbmFtZT1cImR1ZURhdGVcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1idG5zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzdWJtaXQtYnRuXCIgdHlwZT1cInN1Ym1pdFwiPkFkZDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2FuY2VsLWJ0blwiIHR5cGU9XCJidXR0b25cIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG59OyJdLCJuYW1lcyI6WyJUYXNrIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZHVlRGF0ZSIsInRoaXMiLCJzZXROYW1lIiwiZ2V0TmFtZSIsInNldERhdGUiLCJnZXREYXRlIiwiUHJvamVjdCIsInRhc2tzIiwic2V0VGFza3MiLCJnZXRUYXNrcyIsImdldFRhc2siLCJ0YXNrTmFtZSIsImZpbmQiLCJ0YXNrIiwiYWRkVGFzayIsIm5ld1Rhc2siLCJkYXRlIiwicHVzaCIsImRlbGV0ZVRhc2siLCJpbmRleCIsInNwbGljZSIsIlRvZG9MaXN0IiwicHJvamVjdHMiLCJzZXRQcm9qZWN0cyIsImdldFByb2plY3RzIiwiZ2V0UHJvamVjdCIsInByb2plY3ROYW1lIiwicHJvamVjdCIsImFkZFByb2plY3QiLCJuZXdQcm9qZWN0IiwiZGVsZXRlUHJvamVjdCIsIlN0b3JhZ2UiLCJjdXJyZW50UHJvamVjdCIsImN1cnJlbnRUYXNrIiwic2F2ZVRvZG9MaXN0IiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0VG9kb0xpc3QiLCJ0b2RvTGlzdCIsIk9iamVjdCIsImFzc2lnbiIsInBhcnNlIiwiZ2V0SXRlbSIsIm1hcCIsImZvckVhY2giLCJyZW5hbWVUYXNrIiwidGFza0luZGV4IiwibmV3TmFtZSIsInNldFRhc2tEYXRlIiwibmV3RGF0ZSIsInNldEN1cnJlbnRQcm9qZWN0IiwiaWQiLCJnZXRDdXJyZW50UHJvamVjdCIsInNldEN1cnJlbnRUYXNrIiwicmVzZXRDdXJyZW50VGFzayIsImdldEN1cnJlbnRUYXNrIiwic3RvcmFnZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsImNvbnNvbGUiLCJsb2ciLCJvcGVuQWRkVGFzayIsImFkZFRhc2tCdG4iLCJmb3JtRGl2Iiwic3VibWl0QnRuIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJjbG9zZUFkZFRhc2siLCJ0YXNrRm9ybSIsInJlbW92ZSIsInJlc2V0IiwiY2FuY2VsVGFza0J0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0VGFza0J1dHRvbnMiXSwic291cmNlUm9vdCI6IiJ9